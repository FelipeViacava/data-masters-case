---
title: "Data Masters: Cientista de Dados"
author: Felipe Viacava
format:
    html:
        theme: journal
    pdf:
        code-fold: false
notebook-links: true
jupyter: python3
---
# Introdução

## Nesta apresentação

1. Análise exploratória

2. Modelo de classificação

3. Rankeamento de clientes

4. Análise de agrupamentos

## Scripts de auxílio

Repositório completo: [***GitHub***](https://www.github.com/felipeviacava/data-masters-case)

- **Treinamento automatizado de *pipelines*:** resources/train_evaluate.py
- **Transformadores customizados:** resources/customtransformers.py
- ***Pipelines* de processamento de dados:** resources/prep.py
- **Treinamento da *Random Forest*:** 11-rf.py
- **Treinamento do *HGB*:** 12-hgb.py
- **Vizualização de dados:** resources/customviz.py
- **Separação entre treino e teste:** resources/split.py
- **Funções de auxílio da *EDA*:** resources/edautils.py

## Premissas

- Os dados fornecidos são suficientes para a solução do problema
- Objetivo da classificação: maximizar lucro
- Objetivo do rankeamento: maximizar lucro atuando sobre o *rank* 1
- Objetivo do agrupamento: identificar e avaliar *clusters* com base no resultado da classificação

# EDA

01-eda.ipynb

## Análise exploratória

- Separação entre treino e teste antes da EDA (*resources/split.py*)
- Nenhuma alteração definitiva nos dados
- Auxílio na tomada de decisão para os passos seguintes
- Inspiração para criar transformadores customizados

## Análise inicial

- Colunas constantes
- Colunas duplicadas

{{< embed 01-eda.ipynb#dupeconstdrop >}}

- Sem valores faltantes

{{< embed 01-eda.ipynb#missing-total >}}

## Transformadores customizados

- Implementação em *pipelines* de processamento
- Uso simples e fácil manutenção
- Reutilização em outros projetos 

{{< embed 00-support.ipynb#classdrop >}}

*resources/customtransformers.py*

## ID e TARGET

{{< embed 01-eda.ipynb#id-target >}}

## Análise por prefixo: saldo

- Variáveis numéricas (valores _float_ e contexto)
- Dados esparsos, com 99% de zeros por coluna (mediana)
- Variáveis criadas:
    1. Contagem de valores diferentes de 0 por cliente
    2. Soma das colunas por cliente

## Análise por prefixo: saldo

{{< embed 01-eda.ipynb#saldo-describe >}}

## Saldo: contagem de não-zeros

{{< embed 01-eda.ipynb#saldo-nonzero >}}

## Saldo: soma total

{{< embed 01-eda.ipynb#saldo-sum >}}

## Análise por prefixo: imp

- Variáveis numéricas (valores _float_ e contexto)
- Dados esparsos, com 99% de zeros por coluna (mediana)
- Variáveis criadas:
    1. Contagem de valores diferentes de 0 por cliente
    2. Soma das colunas por cliente

## Análise por prefixo: imp
{{< embed 01-eda.ipynb#imp-describe >}}

## Imp: contagem de não-zeros

{{< embed 01-eda.ipynb#imp-nonzero >}}

## Imp: soma total

{{< embed 01-eda.ipynb#imp-sum >}}
